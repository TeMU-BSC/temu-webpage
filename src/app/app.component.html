<mat-sidenav-container class="sidenav-container">
  <mat-sidenav #drawer mode="over" class="sidenav" fixedInViewport>
    <mat-toolbar>
      <button aria-label="Toggle sidenav" mat-icon-button (click)="drawer.toggle()">
        <mat-icon aria-label="Side nav toggle icon">close</mat-icon>
      </button>
      <span style="margin-left: .5rem;">Go to section</span>
    </mat-toolbar>
    <mat-divider></mat-divider>
    <mat-nav-list>
      <a *ngFor="let section of sections" mat-list-item href="#{{ section.id }}" (click)="drawer.close()">
        {{ section.title }}
        <mat-divider></mat-divider>
      </a>
    </mat-nav-list>
  </mat-sidenav>
  <mat-sidenav-content>
    <mat-toolbar class="mat-elevation-z4">
      <button fxHide.gt-md aria-label="Toggle sidenav" mat-icon-button (click)="drawer.toggle()">
        <mat-icon aria-label="Side nav toggle icon">menu</mat-icon>
      </button>
      <a [href]="getBaseUrl()" class="temu-logo">TEMU</a>
      <span class="spacer"></span>
      <mat-nav-list fxHide fxShow.gt-md fxLayout fxLayoutAlign="center center">
        <a *ngFor="let section of sections" mat-list-item href="#{{ section.id }}" class="header-links">
          {{ section.title }}
        </a>
      </mat-nav-list>
    </mat-toolbar>
    <main class="main" ngClass.gt-sm="main-desktop">
      <h1 class="heading"><span class="plantl-color">Biomedical</span> Text Mining Unit</h1>
      <p class="secondary">OTG Sanidad | Secretaría de Estado para la Agenda Digital</p>
      <section fxLayout="column" fxLayout.gt-sm="row" fxLayoutAlign.gt-sm="center start" fxLayoutGap.gt-sm="5rem"
        class="section">
        <div fxFlex.gt-sm="50%">
          <img src="assets/images/BSC-blue.svg" alt="BSC logo" class="logo" ngClass.gt-sm="logo-desktop">
          <p>
            The Text Mining Unit (TEMU) at Barcelona Super Computing Center focuses on the application and development
            of biomedical text mining technologies, which are becoming a key tool for the efficient exploitation of
            information contained in unstructured data repositories including the scientific literature, electronic
            health records (EHRs), patents, biobank metadata, clinical trials and social media.
          </p>
          <p>
            The unit has a particular interest in processing clinical documents written in Spanish and other co-official
            languages in the area of health-related topics and the integration of molecular and biological information
            derived from the literature.
          </p>
          <a href="https://www.bsc.es/" target="_blank" mat-button color="primary">BSC website
            <mat-icon>open_in_new</mat-icon>
          </a>
        </div>
        <div fxFlex.gt-sm="50%">
          <img src="assets/images/plantl.png" alt="PlanTL logo" class="logo" ngClass.gt-sm="logo-desktop">
          <p>
            The unit is fully funded through the
            <span class="spanish">Plan de Impulso de las Tecnologías del Lenguaje de la Agenda Digital (Plan TL)</span>
            , in the framework of an agreement (known as <span class="spanish">encomienda</span>) between BSC and the
            <!-- Secretary of State of Telecommunications of the Spanish Ministry of Economic Affairs and Digital Transformation. -->
            <span class="spanish">Ministerio de Asuntos Económicos y Transformación Digital</span>.
          </p>
          <a href="https://www.plantl.gob.es/" target="_blank" mat-button color="primary">Plan TL website
            <mat-icon>open_in_new</mat-icon>
          </a>
        </div>
      </section>
      <section *ngFor="let section of sections" id="{{ section.id }}" class="section">
        <h2 class="heading plantl-color" fxLayoutAlign="start center">
          <span>{{ section.title }}</span>
          <a mat-icon-button href="#{{ section.id }}" class="heading-link"
            [cdkCopyToClipboard]="getAnchorUrl(section.id)" matTooltip="Copy heading link" matTooltipPosition="above">
            <mat-icon>link</mat-icon>
          </a>
        </h2>
        <p *ngIf="section.firstParagraph">{{ section.firstParagraph }}</p>
        <ul *ngIf="section.list">
          <li *ngFor="let item of section.list">{{ item }}</li>
        </ul>
        <p *ngIf="section.lastParagraph">{{ section.lastParagraph }}</p>
        <div *ngIf="section.items" fxLayout.gt-sm="row wrap" fxLayoutGap.gt-sm="1rem">
          <mat-card *ngFor="let item of section.items" fxFlex.gt-sm="30%" fxLayout="column"
            fxLayoutAlign="space-between">
            <div>
              <mat-card-title>
                {{ item.name }}
              </mat-card-title>
              <mat-chip-list aria-label="Categories">
                <mat-chip>{{ item.category }}</mat-chip>
              </mat-chip-list>
              <mat-card-content style="margin-top: 1em;">{{ item.description }}</mat-card-content>
            </div>
            <mat-card-actions>
              <a mat-button color="primary" href="{{ item.href }}" target="_blank">
                <mat-icon>{{ item.icon }}</mat-icon>{{ item.type | titlecase }}
              </a>
            </mat-card-actions>
          </mat-card>
        </div>
        <div *ngIf="section.id === 'events'" fxLayout.gt-sm="row wrap" fxLayoutGap.gt-sm="1rem">
          <mat-card *ngFor="let event of section.events" fxFlex.gt-sm="30%" fxLayout="column"
            fxLayoutAlign="space-between">
            <div>
              <mat-card-title>{{ event.title }}</mat-card-title>
              <mat-card-subtitle>{{ event.date | date }}</mat-card-subtitle>
              <mat-card-content innerHTML="{{ event.description }}"></mat-card-content>
            </div>
            <mat-card-actions>
              <a mat-button color="primary" href="{{ event.href }}" target="_blank">
                <mat-icon>{{ event.icon }}</mat-icon>{{ event.type | titlecase }}
              </a>
            </mat-card-actions>
          </mat-card>
        </div>
        <div *ngIf="section.id === 'talks'">
          <ul>
            <li *ngFor="let talk of section.talks" innerHTML="{{ talk.description }}"></li>
          </ul>
        </div>
        <ul *ngIf="section.id === 'more'">
          <li *ngFor="let link of section.links">
            <a href="{{ link.href }}" target="_blank" mat-button color="primary">{{ link.text }}
              <mat-icon>open_in_new</mat-icon>
            </a>
          </li>
        </ul>
        <a *ngIf="section.more" href="{{ section.more.href }}" target="_blank" mat-button color="primary">Explore more
          <mat-icon>open_in_new</mat-icon>
        </a>
      </section>
    </main>
    <footer>
      <div fxLayout="column" fxLayoutAlign="center center" fxLayoutGap=".5rem" fxLayout.gt-sm="row"
        fxLayoutGap.gt-sm="5rem">
        <a *ngFor="let link of links; let last = last" href="{{ link.href }}" target="_blank">
          <img src="{{ link.img.src }}" alt="{{ link.img.alt }}">
          <mat-divider fxHide.gt-sm *ngIf="!last"></mat-divider>
        </a>
      </div>
      <div fxLayout="column" fxLayoutAlign="center center" fxLayoutGap=".5rem" style="margin-top: 2rem;">
        <span>
          This website was launched on December 2018 and redisigned with the Material Design guidelines later on
          June 2020 by <a href="https://github.com/aasensios">Alejandro Asensio</a>.
        </span>
      </div>
    </footer>
  </mat-sidenav-content>
</mat-sidenav-container>

<router-outlet></router-outlet>
